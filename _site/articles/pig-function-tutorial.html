<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Pig Function Tutorial &#8211; Hao's Thought Works</title>
<meta name="description" content="">
<meta name="keywords" content="apache, hadoop, pig, mapreduce, hdfs, bigdata">
<!-- Twitter Cards -->

	<meta name="twitter:card" content="summary">
		<meta name="twitter:image" content="/images/weixin_qrcode_12cm.jpg">
	

<meta name="twitter:title" content="Pig Function Tutorial">
<meta name="twitter:description" content="">
<meta name="twitter:creator" content="@hchen7">
<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="blog">
<meta property="og:image" content="http://haoch.me/images/weixin_qrcode_12cm.jpg">
<meta property="og:title" content="Pig Function Tutorial">
<meta property="og:description" content="">
<meta property="og:url" content="http://haoch.me/articles/pig-function-tutorial.html">
<meta property="og:site_name" content="Hao's Thought Works">
<!-- Webmaster Tools verfication -->




<link rel="canonical" href="http://haoch.me/articles/pig-function-tutorial.html">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Hao's Thought Works Feed">
<link rel="author" href="https://plus.google.com/103688232748743092549?rel=author">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta http-equiv="cleartype" content="on">

<!-- For all browsers -->
<link rel="stylesheet" type="text/css" href="/assets/css/main.min.css">

<!-- Webfonts -->
<script src="//use.edgefonts.net/lato:n3,i3,n4,i4,n7.js" type="text/javascript"></script>

<!-- Load Modernizr -->
<script src="/assets/js/vendor/modernizr-2.6.2.custom.min.js" type="text/javascript"></script>
<!-- Load jQuery -->
<script src="//code.jquery.com/jquery-1.9.1.min.js" data-cfasync="false"></script>
<script data-cfasync="false">window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/images/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/images/favicon.png">
<!-- non-retina iPhone pre iOS 7 -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-57x57-precomposed.png" sizes="57x57">
<!-- non-retina iPad pre iOS 7 -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-72x72-precomposed.png" sizes="72x72">
<!-- non-retina iPad iOS 7 -->
<link rel="apple-touch-icon" href="/images/apple-touch-icon-76x76-precomposed.png" sizes="76x76">
<!-- retina iPhone pre iOS 7 -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-114x114-precomposed.png" sizes="114x114">
<!-- retina iPhone iOS 7 -->
<link rel="apple-touch-icon" href="/images/apple-touch-icon-120x120-precomposed.png" sizes="120x120">
<!-- retina iPad pre iOS 7 -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-144x144-precomposed.png" sizes="144x144">
<!-- retina iPad iOS 7 -->
<link rel="apple-touch-icon" href="/images/apple-touch-icon-152x152-precomposed.png" sizes="152x152">

</head>

<body id="post" itemscope itemtype="http://schema.org/WebPage">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<div class="site-header">
	<div class="masthead-wrapper">
		<header id="masthead" itemscope itemtype="http://schema.org/Organization">
			<!--
			<a href="http://haoch.me" class="site-logo" rel="home" title="Hao's Thought Works" itemprop="url">
				<img src="http://haoch.me/images/site-logo.jpg" width="50" height="50" alt="Hao's Thought Works logo" itemprop="logo">
			</a>
			-->

			<span class="site-title">					
				<a href="http://haoch.me">Hao's Thought Works</a>
				<span class="bio">Data driving world</span>
			</span>
		</header><!-- /.masthead -->
		<nav role="navigation" id="site-nav" itemscope itemtype="http://schema.org/SiteNavigationElement">
		    <ul>
		        
				<li><a href="http://haoch.me/about.html">About</a></li>
		        
				<li><a href="http://haoch.me/articles">Articles</a></li>
		        
				<li><a href="http://haoch.me/tags">Tags</a></li>
		        
				<li><a href="http://haoch.me/links">Links</a></li>
		        
                
		    </ul>
		</nav>
	</div><!-- /.entry-wrapper -->
</div><!-- /.entry-header -->


<div id="main" role="main" itemprop="mainContentOfPage" itemscope itemtype="http://schema.org/Blog">
  <article class="hentry" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="entry-header">
      <!--
      <div class="entry-image">
        
        
      </div>
      -->
      <!-- /.entry-image -->
      <h1 class="entry-title" itemprop="name">Pig Function Tutorial</h1>
    </header>
    <div class="entry-wrapper">
      <div class="entry-content" itemprop="description">
        <blockquote>
  <p>Slide: <a href="/talks/pig_function">pig_function</a></p>
</blockquote>

<p>title: Pig Function
subtitle: A  tutorial for Pig built-in function and user defined functions</p>

<h1 id="pig-functions">Pig Functions</h1>
<ul>
  <li>Dynamic Invokers</li>
  <li>Built in functions</li>
  <li>User defined functions (UDFs)</li>
</ul>

<h1 id="dynamic-invokers">Dynamic Invokers</h1>

<pre><code>DEFINE UrlDecode InvokeForString('java.net.URLDecoder.decode', 'String String'); 
encoded_strings = LOAD 'encoded_strings.txt' as (encoded:chararray); 
decoded_strings = FOREACH encoded_strings GENERATE UrlDecode(encoded, 'UTF-8'); 
</code></pre>

<p>Java standard functions and not UDFs yet</p>

<ul>
  <li><strong>static function</strong></li>
  <li><strong>primitives only</strong></li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>(void</td>
          <td>string</td>
          <td>int</td>
          <td>long</td>
          <td>double</td>
          <td>float</td>
          <td>array) =&gt; string</td>
          <td>int</td>
          <td>long</td>
          <td>double</td>
          <td>float</td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>

<h1 id="dynamic-invokers---contine">Dynamic Invokers - contine</h1>
<blockquote>

  <pre><code>DEFINE ALIAS InvokerFor___('CLASS_PATH','PARAM_RET_TYPES')
</code></pre>
</blockquote>

<ul>
  <li>DEFINE</li>
  <li>Invoker</li>
  <li>Invoker (depending in return type)
    <ul>
      <li>InvokeForString</li>
      <li>InvokeForInt</li>
      <li>InvokeForLong</li>
      <li>InvokeForDouble</li>
      <li>InvokeForFloat</li>
    </ul>
  </li>
  <li>Class Name</li>
  <li>Argument Types:
    <ul>
      <li><em>space-delimited</em> ordered list of the classes</li>
      <li>string, long, float, double, and int</li>
      <li>not case sensitive</li>
    </ul>
  </li>
</ul>

<h1 id="built-in-functions">Built in functions</h1>
<ul>
  <li>Eval Functions</li>
  <li>Load/Store Functions</li>
  <li>Math Functions</li>
  <li>String Functions</li>
  <li>Bag and Tuple Functions</li>
</ul>

<h1 id="eval-functions">Eval Functions</h1>
<ul>
  <li>AVG</li>
  <li>CONCAT</li>
  <li>COUNT</li>
  <li>COUNT_STAR: Computes the number of elements in a bag</li>
  <li>DIFF</li>
  <li>IsEmpty</li>
  <li>MAX</li>
  <li>MIN</li>
  <li>SIZE</li>
  <li>SUM</li>
  <li>TOKENIZE</li>
</ul>

<h1 id="loadstore-functions">Load/Store Functions</h1>
<ul>
  <li>Handling Compression
    <ul>
      <li>gzip: .gz (not splitable)</li>
      <li>bzip: .bz or bz2</li>
    </ul>
  </li>
  <li>BinStorage
  － NOT compression
  － multiple location inputs</li>
  <li>PigDump
  － store data of tuples in human-readable UTF-8 format</li>
  <li>PigStorage: Load/Stores as structured text files</li>
  <li>TextLoader: Loads unstructured data in UTF-8 format</li>
</ul>

<h1 id="math-functions">Math Functions</h1>
<ul>
  <li>ABS</li>
  <li>ACOS</li>
  <li>ASIN</li>
  <li>ATAN</li>
  <li>CBRT</li>
  <li>CEIL</li>
  <li>COS</li>
  <li>COSH</li>
  <li>EXP</li>
  <li>FLOOR</li>
  <li>…</li>
</ul>

<h1 id="string-functions">String Functions</h1>
<ul>
  <li>INDEXOF(string, ‘character’, startIndex)</li>
  <li>LAST_INDEX_OF(string, ‘character’, startIndex)</li>
  <li>LCFIRST</li>
  <li>LOWER</li>
  <li>REGEX_EXTRACT(string, regex, index)</li>
  <li>REGEX_EXTRACT(string, regex)</li>
  <li>REPLACE(string, ‘oldChar’, ‘newChar’);</li>
  <li>STRSPLIT(string, regex, limit)</li>
  <li>SUBSTRING(string, startIndex, stopIndex)</li>
  <li>TRIM</li>
  <li>UCFIRST</li>
  <li>UPPER</li>
</ul>

<h1 id="bag-and-tuple-functions">Bag and Tuple Functions</h1>
<ul>
  <li>TOBAG(expression [, expression …])</li>
  <li>TOP(topN,column,relation)</li>
  <li>TOTUPLE(expression [, expression …])</li>
</ul>

<h1 id="user-defined-functions">User Defined Functions</h1>

<pre><code>-- myscript.pig
REGISTER myudfs.jar;
A = LOAD 'student_data' AS (name: chararray, age: int, gpa: float);
B = FOREACH A GENERATE myudfs.UPPER(name);
DUMP B;
</code></pre>

<ul>
  <li>Java/Python/Javascript</li>
  <li>Piggy Bank</li>
  <li>Write UDF in Java: org.apache.pig.{EvalFunc,FilterFunc,StorageFunc,…}</li>
  <li>Load UDF in Pig</li>
</ul>

<h1 id="eval-udfs">Eval UDFS</h1>
<ul>
  <li>org.apache.pig.EvalFunc
    <ul>
      <li>Object exec(Tuple objects)</li>
    </ul>
  </li>
  <li>Algebraic Interface</li>
  <li>Accumulator Interface</li>
</ul>

<h1 id="algebraic-interface">Algebraic Interface</h1>

<pre><code>public interface Algebraic{
    public String getInitial();
    public String getIntermed();
    public String getFinal();
}
</code></pre>

<p>Gist: <a href="https://gist.github.com/haoch/8346176#file-pig-udf-count-java">https://gist.github.com/haoch/8346176#file-pig-udf-count-java</a></p>

<h1 id="accumulator-interface">Accumulator Interface</h1>

<pre><code>public interface Accumulator &lt;T&gt; {
   /**
    * Process tuples. Each DataBag may contain 0 to many tuples for current key
    */
    public void accumulate(Tuple b) throws IOException;
    /**
    * Called when all tuples from current key have been passed to the accumulator.
    * @return the value for the UDF for this key.
    */
    public T getValue();
    /**
    * Called after getValue() to prepare processing for next key. 
    */
    public void cleanup();
}
</code></pre>

<p>Gist: <a href="https://gist.github.com/haoch/8346176#file-pig-udf-intmax-java">https://gist.github.com/haoch/8346176#file-pig-udf-intmax-java</a></p>

<h1 id="filter-function">Filter Function</h1>
<ul>
  <li>org.apache.pig.FilterFunc
    <ul>
      <li>Boolean exec(Tuple input)</li>
    </ul>
  </li>
</ul>

<p>Gist:<a href="https://gist.github.com/haoch/8346176#file-pig-udf-isempty-java">https://gist.github.com/haoch/8346176#file-pig-udf-isempty-java</a></p>

<h1 id="loadstorage-udf">Load/Storage UDF</h1>

<pre><code>-- full outer join
A = LOAD 'student_data' AS (name: chararray, age: int, gpa: float);
B = LOAD 'voter_data' AS (name: chararray, age: int, registration: chararay, contributions: float);
C = COGROUP A BY name, B BY name;
D = FOREACH C GENERATE group, flatten((IsEmpty(A) ? null : A)), flatten((IsEmpty(B) ? null : B));
dump D;
</code></pre>

<ul>
  <li>org.apache.pig.StoreFunc
    <ul>
      <li>public void putNext(Tuple f) throws IOException</li>
    </ul>
  </li>
  <li>org.apache.pig.LoadFunc
    <ul>
      <li>public Tuple getNext() throws IOException</li>
    </ul>
  </li>
</ul>

<h1 id="load-udf">Load UDF</h1>

<pre><code>REGISTER myudfs.jar;
A = LOAD 'student_data' AS (name: chararray, age: int, gpa: float);
B = FOREACH A GENERATE myudfs.UPPER(name);
DUMP B;
</code></pre>

<ul>
  <li>REGISTER <jar></jar></li>
  <li>packege.ClassName(arguments)</li>
</ul>

<h1 id="reference">Reference</h1>
<ul>
  <li><a href="http://pig.apache.org/docs/r0.9.1/func.html">Pig Function</a></li>
  <li><a href="http://pig.apache.org/docs/r0.9.1/udf.html">Pig UDF</a></li>
  <li><a href="http://www.amazon.fr/Programming-Pig-Alan-Gates/dp/1449302645/ref=sr_1_1?ie=UTF8&amp;qid=1389288284&amp;sr=8-1&amp;keywords=pig+programming">Programming-Pig</a></li>
</ul>

<h1 id="the-end">The End</h1>
<p>Thanks</p>

<p>Hao
<a href="http://haoch.me">haoch.me</a></p>


       <br /> <small>（转载本站文章请注明作者和出处 <a href="/articles/pig-function-tutorial.html">haoch.me</a>，请勿用于任何商业用途）</small>

        
        <hr />
        <div class="entry-meta">
          <a href="http://haoch.me/about.html"><img src="http://haoch.me/images/bio-photo-200x200.png" alt="Hao photo" class="author-photo" width="30" height="30"></a>
          <span class="author vcard" itemprop="author" itemscope itemtype="http://schema.org/Person">Published by <span itemprop="name" class="fn"><a href="http://haoch.me/about.html" title="About Hao" itemprop="url">Hao</a></span> on </span>
          <span class="entry-date date published"><time datetime="2014-01-11T00:00:00+01:00" itemprop="datePublished">January 11, 2014</time></span>
          
          <span class="entry-tags">
              <a href="http://haoch.me/tag/apache" title="apache" class="tag" rel="tag">apache</a><a href="http://haoch.me/tag/hadoop" title="hadoop" class="tag" rel="tag">hadoop</a><a href="http://haoch.me/tag/pig" title="pig" class="tag" rel="tag">pig</a><a href="http://haoch.me/tag/mapreduce" title="mapreduce" class="tag" rel="tag">mapreduce</a><a href="http://haoch.me/tag/hdfs" title="hdfs" class="tag" rel="tag">hdfs</a><a href="http://haoch.me/tag/bigdata" title="bigdata" class="tag" rel="tag">bigdata</a>
          </span>
            <!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style addthis_32x32_style addthis_sharing">
<a class="addthis_button_sinaweibo"></a>
<a class="addthis_button_twitter"></a>
<a class="addthis_button_google_plusone_share"></a>
<a class="addthis_button_facebook"></a>
<a class="addthis_button_linkedin"></a>
<a class="addthis_button_compact"></a><a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript">var addthis_config = {"data_track_addressbar":false};</script>
<!-- AddThis Button END -->


        </div><!-- /.entry-meta -->
      </div><!-- /.entry-content -->
      
      <nav class="pagination" role="navigation">
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
            
          
          
        
          
          
        
          
          
            
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
        
          <a href="/articles/github-project-management.html" class="previous-link" title="Previous article"><i class="icon-chevron-left icon-large"></i> <span>Previous</span></a>
        
          <a href="http://haoch.me/articles/" class="archive-link"><i class="icon-list-ul icon-large"></i> <span>Archive</span></a>
        
          <a href="/articles/scala-for-java-programmer.html" class="next-link" title="Next article"><i class="icon-chevron-right icon-large"></i> <span>Next</span></a>
        
    </nav><!-- /.pagination -->
    <div id="disqus_thread"></div><!-- /#disqus_thread -->
    <div id="addthis_trendingcontent"></div>
    </div><!-- /.entry-wrapper -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span class="disclaimer">
    Proudly built with <a href="http://jekyllrb.com/">Jekyll</a> and  hosted by <a href="http://github.com">Github</a>. <a href="/terms.html">Privacy and Disclosure Policies</a>
</span>

<div class="social-icons">
	<a href="http://github.com/haoch" title="Hao on Github" target="_blank"><i class="icon-github icon-2x"></i></a>
	<a href="http://linkedin.com/in/ihaochen" title="Hao on LinkedIn" target="_blank"><i class="icon-linkedin icon-2x"></i></a>
	<a href="http://weibo.com/haochencn" title="Hao on Weibo" target="_blank"><i class="icon-weibo icon-2x"></i></a>
	<a href="http://twitter.com/hchen7" title="Hao on Twitter" target="_blank"><i class="icon-twitter icon-2x"></i></a>
	<a href="http://facebook.com/haochencn" title="Hao on Facebook" target="_blank"><i class="icon-facebook icon-2x"></i></a>
	<a href="https://plus.google.com/103688232748743092549" title="Hao on Google+" target="_blank"><i class="icon-google-plus icon-2x"></i></a>
	<a href="http://instagram.com/haochen90" title="Hao on Instagram" target="_blank"><i class="icon-instagram icon-2x"></i></a>
	
	<a href="http://feeds.feedburner.com/MadeMistakes" title="Atom/RSS feed"><i class="icon-rss icon-2x"></i></a>
</div>

<!-- /.social-icons -->

  </footer>
</div><!-- /.footer-wrapper -->
<script data-cfasync="false" type="text/javascript" src="/assets/js/main.min.js"></script>
<!-- Asynchronous Google Analytics snippet -->
<script>
  var _gaq = _gaq || [];
  var pluginUrl = 
 '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
  _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
  _gaq.push(['_setAccount', 'UA-40551822-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'haoch'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript><div class="upgrade">Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></div></noscript>
<!-- AddThis Smart Layers BEGIN -->
<!-- Go to http://www.addthis.com/get/smart-layers to customize -->

<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-52aadb5c3b6ff852"></script>
<script type="text/javascript">
addthis.layers({
  'theme' : 'transparent',
  'domain' : 'haoch.me',
  /* 'share' : {
    'position' : 'left',
    'numPreferredServices' : 6,
    'offset':{
      'top':'25%'
    },
    'services':'twitter,sinaweibo,facebook,google_plusone_share,email,more'
  },*/ 
  'follow' : {
    'services' : [
      {'service': 'sinaweibo', 'id': 'Hochn'},
      {'service': 'twitter', 'id': 'HChen7'},
      {'service': 'facebook', 'id': 'haochencn'},
      {'service': 'linkedin', 'id': 'ihaochen'},
      {'service': 'google_follow', 'id': '103688232748743092549'},
      {'service': 'rss', 'id': 'http://haoch.me/feed.xml'}
    ]
  },  
  'whatsnext' : {
      'recommendedTitle' : 'Recommended for you',
      'shareMsg' : 'Share to [x]',
      'followMsg' : 'Follow us on [x]',
      'theme' : 'transparent',
      'desktop' : true
  }
  /*
  ,  
  'recommended' : {
      'title' : 'Recommended for you',
      'mobile' : true,
      'desktop' : true,
      'theme' : 'transparent'
  } */
});
addthis.box("#addthis_trendingcontent", {
    feed_title : "Popular Articles - 热门文章",
    feed_type : "trending",
    feed_period : "month",
    num_links : 5,
    height : "auto",
   width : "auto"});
</script>
<!-- AddThis Smart Layers END -->
<!-- AddThis Welcome BEGIN -->
<script type='text/javascript'>
addthis.bar.initialize({'default':{
	"backgroundColor": "#000000",
	"buttonColor": "#098DF4",
	"textColor": "#FFFFFF",
	"buttonTextColor": "#FFFFFF",
	"hideAfter": 20
},rules:[
	{
		"name": "Twitter",
		"match": {
			"referringService": "twitter"
		},
		"message": "If you find this page helpful:",
		"action": {
			"type": "button",
			"text": "Tweet it!",
			"verb": "share",
			"service": "twitter"
		}
	},
	{
		"name": "Facebook",
		"match": {
			"referringService": "facebook"
		},
		"message": "Tell your friends about us:",
		"action": {
			"type": "button",
			"text": "Share on Facebook",
			"verb": "share",
			"service": "facebook"
		}
	},
	{
		"name": "Google",
		"match": {
			"referrer": "google.com"
		},
		"message": "If you like this page, let Google know:",
		"action": {
			"type": "button",
			"text": "+1",
			"verb": "share",
			"service": "google_plusone_share"
		}
	},
	{
		"name": "sinaweibo",
		"match": {
			"referringService": "sinaweibo"
		},
		"message": "If you enjoy this page, do us a favor:",
		"action": {
			"type": "button",
			"text": "Post on Sina Weibo",
			"verb": "share",
			"service": "sinaweibo"
		}
	},
	{
		"name": "linkedin",
		"match": {
			"referringService": "linkedin"
		},
		"message": "If you enjoy this page, do us a favor:",
		"action": {
			"type": "button",
			"text": "Post on LinkedIn",
			"verb": "share",
			"service": "linkedin"
		}
	},
	{
		"name": "baidu",
		"match": {
			"referringService": "baidu"
		},
		"message": "If you enjoy this page, do us a favor:",
		"action": {
			"type": "button",
			"text": "Post on Baidu",
			"verb": "share",
			"service": "baidu"
		}
	},
	{
		"name": "qzone",
		"match": {
			"referringService": "qzone"
		},
		"message": "If you enjoy this page, do us a favor:",
		"action": {
			"type": "button",
			"text": "Post on Qzone",
			"verb": "share",
			"service": "qzone"
		}
	},
	{
		"name": "blogger",
		"match": {
			"referringService": "blogger"
		},
		"message": "If you enjoy this page, do us a favor:",
		"action": {
			"type": "button",
			"text": "Post on Blogger",
			"verb": "share",
			"service": "blogger"
		}
	},
	{
		"name": "digg",
		"match": {
			"referringService": "digg"
		},
		"message": "If you enjoy this page, do us a favor:",
		"action": {
			"type": "button",
			"text": "Post on Digg",
			"verb": "share",
			"service": "digg"
		}
	},
	{
		"name": "google_plusone_share",
		"match": {
			"referringService": "google_plusone_share"
		},
		"message": "If you enjoy this page, do us a favor:",
		"action": {
			"type": "button",
			"text": "Post on Google+ Share",
			"verb": "share",
			"service": "google_plusone_share"
		}
	},
	{
		"name": "email",
		"match": {
			"referringService": "email"
		},
		"message": "If you enjoy this page, do us a favor:",
		"action": {
			"type": "button",
			"text": "Post on Email",
			"verb": "share",
			"service": "email"
		}
	}
]});
</script>
<!-- AddThis Welcome END -->

</body>
</html>
